<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Compas de Vie</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <!-- STYLE (CSS) -->
    <style>
        :root {
            --color-positive: #2ecc71;
            --color-negative: #e74c3c;
            --color-neutral: #95a5a6;
            --color-bg: #f4f7f6;
            --color-card: #ffffff;
            --color-text: #34495e;
            --color-shadow: rgba(0, 0, 0, 0.08);
            --color-primary: #3498db;
            --color-action: #1abc9c;
        }
        body { font-family: 'Poppins', sans-serif; background-color: var(--color-bg); color: var(--color-text); margin: 0; padding: 20px; }
        main { width: 100%; max-width: 700px; margin: 0 auto; }
        h1 { text-align: center; color: var(--color-text); }
        .intro-text { text-align: center; color: var(--color-neutral); }
        .main-controls { display: flex; justify-content: center; gap: 15px; margin-bottom: 40px; }
        .action-button { color: white; border: none; border-radius: 8px; padding: 10px 20px; font-size: 1em; font-weight: 600; cursor: pointer; transition: background-color 0.2s ease, transform 0.1s ease; }
        .action-button:active { transform: scale(0.95); }
        #sort-button { background-color: var(--color-primary); }
        #sort-button:hover { background-color: #2980b9; }
        #export-button { background-color: var(--color-action); }
        #export-button:hover { background-color: #16a085; }
        .activity-card { background-color: var(--color-card); border-radius: 8px; box-shadow: 0 4px 10px var(--color-shadow); margin-bottom: 15px; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-left: 5px solid var(--color-neutral); transition: border-color 0.3s ease; }
        .activity-card.positive { border-left-color: var(--color-positive); }
        .activity-card.negative { border-left-color: var(--color-negative); }
        .activity-name { font-size: 1.1em; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; padding-right: 15px; }
        .activity-controls { display: flex; align-items: center; gap: 15px; flex-shrink: 0; }
        .rating-value { font-size: 1.5em; font-weight: 600; width: 3ch; text-align: center; }
        .rating-value.positive { color: var(--color-positive); }
        .rating-value.negative { color: var(--color-negative); }
        .btn { background-color: #ecf0f1; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.5em; font-weight: 600; cursor: pointer; display: flex; justify-content: center; align-items: center; transition: background-color 0.2s ease, transform 0.1s ease; }
        .btn:hover { background-color: #bdc3c7; }
        .btn:active { transform: scale(0.9); }
        .btn-plus { color: var(--color-positive); }
        .btn-minus { color: var(--color-negative); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; }
        .modal-content { background-color: var(--color-bg); margin: auto; padding: 20px 30px; border-radius: 8px; width: 90%; max-width: 650px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); animation: fadeIn 0.3s; }
        @keyframes fadeIn { from {opacity: 0; transform: scale(0.95);} to {opacity: 1; transform: scale(1);} }
        .modal-header { display: flex; justify-content: space-between; align-items: center; }
        .modal-header h2 { margin-top: 0; }
        .close-button { color: var(--color-neutral); font-size: 28px; font-weight: bold; cursor: pointer; transition: color 0.2s; }
        .close-button:hover { color: var(--color-text); }
        #prompt-output { width: 100%; height: 300px; margin: 15px 0; padding: 10px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; font-family: monospace; font-size: 0.9em; background-color: #fff; }
        .modal-actions { text-align: right; }
    </style>
</head>
<body>
    <main>
        <h1>üß≠ Mon Compas de Vie</h1>
        <p class="intro-text">Notez chaque activit√© de -5 √† +5 pour d√©couvrir ce qui vous anime.</p>
        <div class="main-controls">
            <button id="sort-button" class="action-button">Trier par note</button>
            <button id="export-button" class="action-button">Exporter pour l'IA</button>
        </div>
        <div id="activities-list"></div>
    </main>
    <div id="export-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Prompt pour votre IA</h2>
                <span id="close-modal-button" class="close-button">√ó</span>
            </div>
            <p>Copiez ce texte et collez-le dans votre IA favorite (ChatGPT, Gemini, Claude, etc.)</p>
            <textarea id="prompt-output" readonly></textarea>
            <div class="modal-actions">
                <button id="copy-button" class="action-button" style="background-color: var(--color-primary);">Copier le prompt</button>
            </div>
        </div>
    </div>

    <!-- LOGIQUE (JAVASCRIPT) -->
    <script>
        const STORAGE_KEY = 'lifeCompassActivities';

        // **NOUVEAUT√â** : La liste initiale contient maintenant 100 propositions
        const initialActivities = [
            // Cr√©ativit√© & Expression
            { id: 1, name: "√âcrire une histoire courte ou un po√®me", rating: 0 },
            { id: 2, name: "Dessiner ou faire un croquis rapide", rating: 0 },
            { id: 3, name: "Peindre avec de l'aquarelle ou de l'acrylique", rating: 0 },
            { id: 4, name: "Composer un morceau de musique", rating: 0 },
            { id: 5, name: "Prendre et retoucher des photos", rating: 0 },
            { id: 6, name: "Cr√©er un design graphique (logo, affiche)", rating: 0 },
            { id: 7, name: "Monter une courte vid√©o", rating: 0 },
            { id: 8, name: "Faire de la poterie ou de la sculpture", rating: 0 },
            { id: 9, name: "Cuisiner un plat de mani√®re cr√©ative", rating: 0 },
            { id: 10, name: "Tenir un journal intime ou un blog", rating: 0 },
            { id: 11, name: "Faire du bricolage ou un projet DIY", rating: 0 },
            { id: 12, name: "Imaginer et concevoir un objet ou un espace", rating: 0 },
            { id: 13, name: "Apprendre la calligraphie", rating: 0 },
            { id: 14, name: "Cr√©er un moodboard pour un projet", rating: 0 },
            { id: 15, name: "Faire de l'improvisation th√©√¢trale", rating: 0 },
            // Connaissance & Croissance
            { id: 16, name: "Lire un livre de non-fiction sur un nouveau sujet", rating: 0 },
            { id: 17, name: "Regarder un documentaire approfondi", rating: 0 },
            { id: 18, name: "Suivre un cours en ligne (Coursera, edX)", rating: 0 },
            { id: 19, name: "Apprendre les bases d'une nouvelle langue", rating: 0 },
            { id: 20, name: "Apprendre un langage de programmation", rating: 0 },
            { id: 21, name: "√âcouter un podcast √©ducatif", rating: 0 },
            { id: 22, name: "Faire des recherches sur un sujet qui me passionne", rating: 0 },
            { id: 23, name: "Visiter un mus√©e ou une exposition scientifique", rating: 0 },
            { id: 24, name: "Analyser des donn√©es ou des statistiques", rating: 0 },
            { id: 25, name: "Lire des articles de recherche", rating: 0 },
            { id: 26, name: "Apprendre une comp√©tence manuelle (couture, menuiserie)", rating: 0 },
            { id: 27, name: "Participer √† une conf√©rence ou un webinaire", rating: 0 },
            { id: 28, name: "Ma√Ætriser une nouvelle fonctionnalit√© d'un logiciel", rating: 0 },
            { id: 29, name: "√âtudier la philosophie ou l'histoire", rating: 0 },
            { id: 30, name: "Apprendre √† jouer aux √©checs ou au go", rating: 0 },
            // Aventure & Libert√©
            { id: 31, name: "Faire une randonn√©e en montagne", rating: 0 },
            { id: 32, name: "Explorer un quartier inconnu de ma ville", rating: 0 },
            { id: 33, name: "Planifier un voyage en d√©tail", rating: 0 },
            { id: 34, name: "Partir en week-end sur un coup de t√™te", rating: 0 },
            { id: 35, name: "Essayer un sport extr√™me (escalade, surf)", rating: 0 },
            { id: 36, name: "Faire du camping ou un bivouac", rating: 0 },
            { id: 37, name: "Go√ªter √† une cuisine √©trang√®re que je ne connais pas", rating: 0 },
            { id: 38, name: "Faire un road trip sans itin√©raire fixe", rating: 0 },
            { id: 39, name: "Apprendre des techniques de survie en nature", rating: 0 },
            { id: 40, name: "Visiter un lieu abandonn√© (urbex)", rating: 0 },
            { id: 41, name: "Participer √† un jeu de piste ou escape game", rating: 0 },
            { id: 42, name: "Faire du v√©lo sur une longue distance", rating: 0 },
            { id: 43, name: "Dormir √† la belle √©toile", rating: 0 },
            { id: 44, name: "Tester un nouveau moyen de transport (kayak, paddle)", rating: 0 },
            { id: 45, name: "Assister √† un festival culturel ou musical", rating: 0 },
            // Social & Connexion
            { id: 46, name: "Organiser un d√Æner ou un √©v√©nement pour des amis", rating: 0 },
            { id: 47, name: "Avoir une conversation profonde avec un proche", rating: 0 },
            { id: 48, name: "Faire du b√©n√©volat pour une cause qui me tient √† c≈ìur", rating: 0 },
            { id: 49, name: "Participer √† un jeu de soci√©t√© complexe", rating: 0 },
            { id: 50, name: "Animer une r√©union ou un atelier", rating: 0 },
            { id: 51, name: "Rejoindre un club ou une association", rating: 0 },
            { id: 52, name: "Faire du mentorat ou coacher quelqu'un", rating: 0 },
            { id: 53, name: "Donner un cours ou une formation", rating: 0 },
            { id: 54, "name": "D√©battre d'un sujet de soci√©t√© de mani√®re constructive", rating: 0 },
            { id: 55, name: "Contacter un vieil ami pour prendre des nouvelles", rating: 0 },
            { id: 56, name: "Faire un sport d'√©quipe", rating: 0 },
            { id: 57, name: "Participer √† un √©v√©nement de networking", rating: 0 },
            { id: 58, name: "√âcouter attentivement quelqu'un raconter son histoire", rating: 0 },
            { id: 59, name: "Collaborer sur un projet avec d'autres personnes", rating: 0 },
            { id: 60, name: "Exprimer ma gratitude √† quelqu'un", rating: 0 },
            // Structure & Organisation
            { id: 61, name: "Organiser et ranger une pi√®ce de la maison", rating: 0 },
            { id: 62, name: "Planifier ma semaine en d√©tail", rating: 0 },
            { id: 63, name: "Cr√©er un budget et suivre mes finances", rating: 0 },
            { id: 64, name: "Optimiser une routine quotidienne", rating: 0 },
            { id: 65, name: "Construire un syst√®me de classement (fichiers, papiers)", rating: 0 },
            { id: 66, name: "Faire une liste et la suivre m√©thodiquement", rating: 0 },
            { id: 67, name: "G√©rer un projet avec des outils (Trello, Asana)", rating: 0 },
            { id: 68, name: "R√©parer un objet cass√©", rating: 0 },
            { id: 69, name: "Mettre en place une nouvelle habitude", rating: 0 },
            { id: 70, name: "Automatiser une t√¢che r√©p√©titive", rating: 0 },
            { id: 71, name: "Faire le tri dans mes affaires (minimalisme)", rating: 0 },
            { id: 72, name: "Pr√©parer mes repas pour la semaine (meal prep)", rating: 0 },
            { id: 73, name: "Cr√©er un arbre g√©n√©alogique", rating: 0 },
            { id: 74, name: "√âtablir des objectifs √† long terme (SMART)", rating: 0 },
            { id: 75, name: "R√©soudre un puzzle ou un casse-t√™te logique", rating: 0 },
            // Bien-√™tre & Introspection
            { id: 76, name: "M√©diter pendant 15 minutes", rating: 0 },
            { id: 77, name: "Pratiquer le yoga ou des √©tirements", rating: 0 },
            { id: 78, name: "Passer du temps seul et r√©fl√©chir, sans distraction", rating: 0 },
            { id: 79, name: "Faire une sieste r√©paratrice", rating: 0 },
            { id: 80, name: "√âcouter un album de musique en entier, attentivement", rating: 0 },
            { id: 81, name: "Marcher dans la nature en √©tant pleinement pr√©sent", rating: 0 },
            { id: 82, name: "Faire une s√©ance de sport intense", rating: 0 },
            { id: 83, name: "Prendre un bain chaud ou une longue douche", rating: 0 },
            { id: 84, name: "Faire une d√©tox digitale pendant plusieurs heures", rating: 0 },
            { id: 85, name: "Jardiner ou m'occuper de plantes", rating: 0 },
            { id: 86, name: "Pratiquer des exercices de respiration", rating: 0 },
            { id: 87, name: "√âcrire mes pens√©es sans filtre (brain dumping)", rating: 0 },
            { id: 88, name: "Observer les gens dans un caf√©", rating: 0 },
            { id: 89, name: "Identifier et nommer mes √©motions du moment", rating: 0 },
            { id: 90, name: "Passer du temps avec un animal de compagnie", rating: 0 },
            // Divers
            { id: 91, name: "N√©gocier un prix ou un contrat", rating: 0 },
            { id: 92, name: "Vendre un objet dont je ne me sers plus", rating: 0 },
            { id: 93, name: "Construire un meuble en kit", rating: 0 },
            { id: 94, name: "Faire une blague et faire rire les autres", rating: 0 },
            { id: 95, name: "Parler en public devant une petite audience", rating: 0 },
            { id: 96, name: "Choisir une tenue qui exprime ma personnalit√©", rating: 0 },
            { id: 97, name: "Faire une bonne action de mani√®re anonyme", rating: 0 },
            { id: 98, name: "D√©fendre une opinion face √† une contradiction", rating: 0 },
            { id: 99, name: "Go√ªter un vin ou un caf√© en analysant les ar√¥mes", rating: 0 },
            { id: 100, name: "Se lever t√¥t pour voir le lever du soleil", rating: 0 },
        ];

        let activities = JSON.parse(localStorage.getItem(STORAGE_KEY)) || initialActivities;
        
        // --- Le reste du script est identique ---

        const exportModal = document.getElementById('export-modal');
        const exportButton = document.getElementById('export-button');
        const closeModalButton = document.getElementById('close-modal-button');
        const copyButton = document.getElementById('copy-button');
        const promptOutput = document.getElementById('prompt-output');

        function saveActivities() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(activities));
        }

        function renderActivities() {
            const listContainer = document.getElementById('activities-list');
            listContainer.innerHTML = '';
            activities.forEach(activity => {
                const card = document.createElement('div');
                card.className = 'activity-card';
                card.dataset.id = activity.id;
                card.innerHTML = `
                    <span class="activity-name" title="${activity.name}">${activity.name}</span>
                    <div class="activity-controls">
                        <button class="btn btn-minus" aria-label="Diminuer la note">-</button>
                        <span class="rating-value"></span>
                        <button class="btn btn-plus" aria-label="Augmenter la note">+</button>
                    </div>`;
                listContainer.appendChild(card);
                updateCard(card, activity);
            });
        }
        
        function updateCard(cardElement, activity) {
             const ratingValue = cardElement.querySelector('.rating-value');
             ratingValue.textContent = activity.rating > 0 ? `+${activity.rating}` : activity.rating;
             
             ratingValue.className = 'rating-value';
             cardElement.classList.remove('positive', 'negative');

             if (activity.rating > 0) {
                 cardElement.classList.add('positive');
                 ratingValue.classList.add('positive');
             } else if (activity.rating < 0) {
                 cardElement.classList.add('negative');
                 ratingValue.classList.add('negative');
             }
        }

        function generateAIPrompt() {
            const positive = activities.filter(a => a.rating > 0).sort((a,b) => b.rating - a.rating);
            const negative = activities.filter(a => a.rating < 0).sort((a,b) => a.rating - b.rating);
            const neutral = activities.filter(a => a.rating === 0);

            let prompt = `Bonjour, je cherche √† mieux me conna√Ætre pour trouver ma mission de vie. Tu es un coach expert en orientation et en d√©veloppement personnel. Analyse en profondeur les donn√©es suivantes que j'ai collect√©es sur mes pr√©f√©rences.\n\n`;

            prompt += `--- MES SOURCES D'√âNERGIE (notes positives) ---\n`;
            if (positive.length > 0) {
                prompt += positive.map(a => `- ${a.name} (Note : +${a.rating})`).join('\n');
            } else {
                prompt += `(Aucune pour l'instant)`;
            }

            prompt += `\n\n--- MES PERTES D'√âNERGIE (notes n√©gatives) ---\n`;
            if (negative.length > 0) {
                prompt += negative.map(a => `- ${a.name} (Note : ${a.rating})`).join('\n');
            } else {
                prompt += `(Aucune pour l'instant)`;
            }
            
            prompt += `\n\n--- ACTIVIT√âS NEUTRES OU NON TEST√âES ---\n`;
             if (neutral.length > 0) {
                prompt += neutral.map(a => `- ${a.name}`).join('\n');
            } else {
                prompt += `(Aucune pour l'instant)`;
            }

            prompt += `\n\n--- TA MISSION ---\n`;
            prompt += `1. **Analyse des Th√®mes :** Identifie les grands th√®mes r√©currents dans ce que j'aime (cr√©ativit√©, aide aux autres, organisation, technologie, nature, etc.) et dans ce que je n'aime pas.\n`;
            prompt += `2. **Comp√©tences et Valeurs :** D√©duis les comp√©tences (ex: communication, analyse, leadership) et les valeurs fondamentales (ex: libert√©, s√©curit√©, impact social) que ces pr√©f√©rences r√©v√®lent.\n`;
            prompt += `3. **Pistes de Mission de Vie :** Sur la base de ton analyse, propose 3 √† 5 pistes concr√®tes de "missions de vie" ou de domaines professionnels/personnels qui pourraient me correspondre. Pour chaque piste, explique pourquoi elle est pertinente.\n`;
            prompt += `4. **Question d'Approfondissement :** Termine en me posant une question puissante et inattendue pour m'aider √† pousser ma r√©flexion encore plus loin.`;
            
            return prompt;
        }

        document.getElementById('activities-list').addEventListener('click', (event) => {
            const card = event.target.closest('.activity-card');
            if (!card) return;
            const activityId = parseInt(card.dataset.id);
            const activity = activities.find(a => a.id === activityId);
            let hasChanged = false;

            if (event.target.matches('.btn-plus') && activity.rating < 5) { activity.rating++; hasChanged = true; }
            else if (event.target.matches('.btn-minus') && activity.rating > -5) { activity.rating--; hasChanged = true; }
            
            if(hasChanged) {
                saveActivities();
                updateCard(card, activity);
            }
        });

        document.getElementById('sort-button').addEventListener('click', () => {
            activities.sort((a, b) => b.rating - a.rating);
            renderActivities();
        });

        exportButton.addEventListener('click', () => {
            promptOutput.value = generateAIPrompt();
            exportModal.style.display = 'flex';
        });

        closeModalButton.addEventListener('click', () => {
            exportModal.style.display = 'none';
        });
        
        window.addEventListener('click', (event) => {
            if (event.target == exportModal) {
                exportModal.style.display = 'none';
            }
        });

        copyButton.addEventListener('click', () => {
            promptOutput.select();
            document.execCommand('copy');
            copyButton.textContent = 'Copi√© !';
            setTimeout(() => { copyButton.textContent = 'Copier le prompt'; }, 2000);
        });

        renderActivities();
    </script>
</body>
</html>
